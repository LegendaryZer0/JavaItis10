# 30. Web

# 30.00 Клиент-серверная архитектура. 

* Сервер - это программное обеспечение, как правило, размещенное на выделенном бесперебойном компьютере. Содержит основную логику приложения.

* Клиент - любое программное обеспечение, установленное локально на устройстве и взаимодействующее с сервером.

* Вообще говоря, можно сказать, что сервер один, а клиентов очень много.

* Типы клиентов - мобильные приложения, браузер, Desktop-клиенты (например Skype).

* Благодаря тому, что бизнес-логика централизованна, каждый клиент всегда имеет доступ к актуальной версии сервера автоматически.

* Благодаря тому, что БД также находится только на сервере, она становится легко доступной для разработчиков с целью ее контроля и обеспечения безопасности.

* Благодаря тому, что вся основная логика и данные находятся на сервере, мы снимаем нагрузку с клиентов.

## 30.01 Протокол HTTP

* HTTP (протокол передачи гипертекста) - протокол взаимодействия между клиентом и сервером.

* Гипертекст - веб-страницы, обычный текст, помеченный определенными тегами.

* [OSI](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%B0%D1%8F_%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C_OSI)

* В рамках данного протокола клиент может направить запрос серверу, но не наоборот.

* Сервер всегда имеет (публичный постоянный белый) IP (адрес) либо доменное имя, привязанное к этому IP.

## 30.02 Структура HTTP-запроса

```
Не совсем соответствует реальному положению вещей, но очень хорошо позволяет понять назначение запроса
```

* Метод запроса - семантическое назначение запроса. Иногда называют HTTP-глаголом, выделяют типы:

- `GET` - для получения данных c сервера и отправки на сервер. При отправке данных на сервер, сами данные отправляются в URL и видны в истории поиска.

- `POST` - для отправки данных на сервер и для получения данных с сервера. POST-запрос прячет данные в теле запроса, и поэтому их не видно в истории и в URL.

* URL-запроса - `https://www.google.ru`, состоит из `протокола`,`доменного имени`,`зона`.

* В URL-запроса также можно выделить идентификатор ресурса, например `https://documents.com/some_paper`, в данном случае `some_paper` - идентификатор ресурса. Зачастую идентификаторы используют для других целей. Например в гугл - `https:/www.google.ru/search`.

* В URL-запроса также помещаются параметры запроса, например `https://www.google.ru/search?q=марсель+сидиков`. `q` - параметр запроса, используется для передачи каких-либо данных на сервер. Если параметров несколько, они отделяются друг от друга `&`.

* Заголовки - мета-данные, которые отправляются на сервер и сопроваждают запрос. Например, текущий язык, местоположение, UTM-метки, куки. Например, `Content-Type: application/x-www-form-urlencoded`, говорит о том, что мы отправляем на сервер форму POST-запросом.

* Тело запроса - существует у `POST`, не существует у `GET`.

## 30.02 Структура HTTP-ответа

* Тело ответа - содержит данные, которыми ответил сервер на запрос.

* Заголовки ответа - тот же `Content-Type`, чтобы браузер мог понять, какие данные ему отправил сервер.

* Статус ответа - целое число, которое показывает насколько успешно прошел запрос. Например - `404` - не найдено, `502` - Bad gateway, `403` - запрещено, `200` - все ок и т.д.


